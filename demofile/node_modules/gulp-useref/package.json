{
  "name": "gulp-useref",
  "version": "2.1.0",
  "description": "Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets.",
  "main": "index.js",
  "directories": {
    "test": "test"
  },
  "dependencies": {
    "event-stream": "^3.3.1",
    "glob": "^5.0.15",
    "gulp-concat": "^2.5.2",
    "gulp-if": "^2.0.0",
    "gulp-util": "^3.0.1",
    "is-relative-url": "^1.0.0",
    "node-useref": "^0.3.1",
    "through2": "^0.6.5",
    "vinyl-fs": "^2.2.1"
  },
  "devDependencies": {
    "gulp": "^3.9.0",
    "gulp-jscs": "^3.0.1",
    "gulp-jshint": "^1.9.0",
    "gulp-mocha": "^2.0.0",
    "gulp-rename": "^1.2.2",
    "mocha": "*",
    "mock-gulp-dest": "^0.1.1",
    "should": "*"
  },
  "engines": {
    "node": ">=0.10.0"
  },
  "scripts": {
    "test": "mocha"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/jonkemp/gulp-useref.git"
  },
  "keywords": [
    "gulpplugin",
    "html",
    "scripts",
    "css",
    "optimize",
    "concat"
  ],
  "author": {
    "name": "Jonathan Kemp",
    "email": "kempdogg@gmail.com",
    "url": "http://jonkemp.com/"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/jonkemp/gulp-useref/issues"
  },
  "homepage": "https://github.com/jonkemp/gulp-useref",
  "readme": "# [gulp](https://github.com/gulpjs/gulp)-useref [![Build Status](https://travis-ci.org/jonkemp/gulp-useref.svg?branch=master)](https://travis-ci.org/jonkemp/gulp-useref)\n\n> Parse build blocks in HTML files to replace references to non-optimized scripts or stylesheets with [useref](https://github.com/digisfera/useref)\n\nInspired by the grunt plugin [grunt-useref](https://github.com/pajtai/grunt-useref). It can handle file concatenation but not minification. Files are then passed down the stream. For minification of assets or other modifications, use [gulp-if](https://github.com/robrich/gulp-if) to conditionally handle specific types of assets.\n\n\n## Install\n\nInstall with [npm](https://npmjs.org/package/gulp-useref)\n\n```\nnpm install --save-dev gulp-useref\n```\n\n\n## Usage\n\nThe following example will parse the build blocks in the HTML, replace them and pass those files through. Assets inside the build blocks will be concatenated and passed through in a stream as well.\n\n```js\nvar gulp = require('gulp'),\n    useref = require('gulp-useref');\n\ngulp.task('default', function () {\n    var assets = useref.assets();\n\n    return gulp.src('app/*.html')\n        .pipe(assets)\n        .pipe(assets.restore())\n        .pipe(useref())\n        .pipe(gulp.dest('dist'));\n});\n```\n\nWith options:\n\n```js\nvar gulp = require('gulp'),\n    useref = require('gulp-useref');\n\ngulp.task('default', function () {\n    var assets = useref.assets({ searchPath: '.tmp' });\n\n    return gulp.src('app/*.html')\n        .pipe(assets)\n        .pipe(assets.restore())\n        .pipe(useref())\n        .pipe(gulp.dest('dist'));\n});\n```\n\nIf you want to minify your assets or perform some other modification, you can use [gulp-if](https://github.com/robrich/gulp-if) to conditionally handle specific types of assets.\n\n```js\nvar gulp = require('gulp'),\n    useref = require('gulp-useref'),\n    gulpif = require('gulp-if'),\n    uglify = require('gulp-uglify'),\n    minifyCss = require('gulp-minify-css');\n\ngulp.task('html', function () {\n    var assets = useref.assets();\n\n    return gulp.src('app/*.html')\n        .pipe(assets)\n        .pipe(gulpif('*.js', uglify()))\n        .pipe(gulpif('*.css', minifyCss()))\n        .pipe(assets.restore())\n        .pipe(useref())\n        .pipe(gulp.dest('dist'));\n});\n```\n\nBlocks are expressed as:\n\n```html\n<!-- build:<type>(alternate search path) <path> -->\n... HTML Markup, list of script / link tags.\n<!-- endbuild -->\n```\n\n- **type**: either `js`, `css` or `remove`; `remove` will remove the build block entirely without generating a file\n- **alternate search path**: (optional) By default the input files are relative to the treated file. Alternate search path allows one to change that\n- **path**: the file path of the optimized file, the target output\n\nAn example of this in completed form can be seen below:\n\n```html\n<html>\n<head>\n    <!-- build:css css/combined.css -->\n    <link href=\"css/one.css\" rel=\"stylesheet\">\n    <link href=\"css/two.css\" rel=\"stylesheet\">\n    <!-- endbuild -->\n</head>\n<body>\n    <!-- build:js scripts/combined.js -->\n    <script type=\"text/javascript\" src=\"scripts/one.js\"></script>\n    <script type=\"text/javascript\" src=\"scripts/two.js\"></script>\n    <!-- endbuild -->\n</body>\n</html>\n```\n\nThe resulting HTML would be:\n\n```html\n<html>\n<head>\n    <link rel=\"stylesheet\" href=\"css/combined.css\"/>\n</head>\n<body>\n    <script src=\"scripts/combined.js\"></script>\n</body>\n</html>\n```\n\n\n## API\n\n### useref(options)\n\nReturns a stream with the asset replaced resulting HTML files. Supports all options from [useref](https://github.com/digisfera/useref).\n\n### useref.assets(options [, transformStream1 [, transformStream2 [, ... ]]])\n\nReturns a stream with the concatenated asset files from the build blocks inside the HTML.\n\n### Transform Streams\n\nType: `Stream`  \nDefault: `none`\n\nTransform assets before concat. For example, to integrate source maps:\n\n```js\nvar gulp = require('gulp'),\n    sourcemaps = require('gulp-sourcemaps'),\n    useref = require('gulp-useref'),\n    lazypipe = require('lazypipe'),\n    assets = useref.assets({}, lazypipe().pipe(sourcemaps.init, { loadMaps: true }));\n\n  return gulp.src('index.html')\n    .pipe(assets)\n    .pipe(sourcemaps.write('maps'))\n    .pipe(assets.restore())\n    .pipe(useref())\n    .pipe(gulp.dest(dist));\n```\n\n### Options\n\n#### options.searchPath\n\nType: `String` or `Array`  \nDefault: `none`  \n\nSpecify the location to search for asset files, relative to the current working directory. Can be a string or array of strings.\n\n#### options.base\n\nType: `String`  \nDefault: `process.cwd()`  \n\nSpecify the output folder relative to the cwd.\n\n#### options.noconcat\n\nType: `Boolean`  \nDefault: `false`  \n\nSkip concatenation and add all assets to the stream instead.\n\n#### options.additionalStreams\n\nType: `Array<Stream>`  \nDefault: `none`\n\nUse additional streams as sources of assets. Useful for combining gulp-useref with preprocessing tools. For example, to use with TypeScript:\n\n```javascript\n// create stream of virtual files\nvar tsStream = gulp.src('src/**/*.ts')\n        .pipe(ts());\n\n    // pass stream to assets, multiple streams are supported\n    var assets = useref.assets({ additionalStreams: [tsStream] });\n\n    // use gulp-useref normally\n    return gulp.src('src/index.html')\n        .pipe(assets)\n        .pipe(assets.restore())\n        .pipe(useref())\n        .pipe(gulp.dest('dist'));\n```\n\n#### options.transformPath\n\nType: `Function`  \nDefault: `none`\n\nAdd a transformPath function in case the path needs to be modified before search happens.\n\n```js\nvar gulp = require('gulp'),\n    useref = require('gulp-useref');\n\ngulp.task('default', function () {\n    var assets = useref.assets({\n        transformPath: function(filePath) {\n            return filePath.replace('/rootpath','')\n        }\n    });\n\n    return gulp.src('app/*.html')\n        .pipe(assets)\n        .pipe(assets.restore())\n        .pipe(useref())\n        .pipe(gulp.dest('dist'));\n});\n```\n\n### stream.restore()\n\nBrings back the previously filtered out HTML files.\n\n\n## Notes\n\n* [ClosureCompiler.js](https://github.com/dcodeIO/ClosureCompiler.js) doesn't support Buffers, which means if you want to use [gulp-closure-compiler](https://github.com/sindresorhus/gulp-closure-compiler) you'll have to first write out the `combined.js` to disk. See [this](https://github.com/dcodeIO/ClosureCompiler.js/issues/11) for more information.\n\n\n## Acknowledgments\n\n* Whitney Young ([@wbyoung](https://github.com/wbyoung)) for suggesting a separate stream for assets.\n\n\n## Contributing\n\nSee the [CONTRIBUTING Guidelines](https://github.com/jonkemp/gulp-useref/blob/master/CONTRIBUTING.md)\n\n\n## License\n\nMIT Â© [Jonathan Kemp](http://jonkemp.com)\n",
  "readmeFilename": "README.md",
  "_id": "gulp-useref@2.1.0",
  "_from": "gulp-useref@^2.1.0"
}
